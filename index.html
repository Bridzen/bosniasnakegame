<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bosnia Snake</title>
    <!-- PeerJS for Multiplayer -->
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    <style>
        body { margin: 0; overflow: hidden; background: #080b12; color: white; font-family: 'Segoe UI', sans-serif; }
        canvas { display: block; }
        
        /* UI OVERLAY */
        #ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        
        /* MENUS (Pointer events enabled) */
        #start-menu { 
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            display: flex; gap: 20px; pointer-events: auto;
        }
        
        .panel {
            background: rgba(0, 15, 60, 0.9); border: 2px solid #FECB00;
            padding: 20px; border-radius: 10px; backdrop-filter: blur(10px);
        }

        button {
            width: 100%; padding: 15px; margin-top: 10px; border: none; cursor: pointer;
            font-weight: bold; text-transform: uppercase; color: white;
            background: linear-gradient(to right, #002F6C, #0055A4);
        }
        button:hover { opacity: 0.9; }
        input { width: 90%; padding: 10px; margin-bottom: 10px; background: rgba(255,255,255,0.1); border: 1px solid #444; color: white; text-align: center; }

        /* LISTS */
        .list-box { max-height: 150px; overflow-y: auto; margin-top: 10px; border-top: 1px solid #444; }
        .list-item { padding: 8px; border-bottom: 1px solid #333; display: flex; justify-content: space-between; font-size: 14px; }
        .spectate-btn { background: #28a745; font-size: 10px; padding: 2px 6px; width: auto; margin: 0; }

        /* HUD */
        #hud { position: absolute; top: 20px; left: 20px; display: none; pointer-events: none; }
        .hud-box { background: rgba(0,15,60,0.7); border: 1px solid #0055A4; padding: 10px 20px; border-radius: 10px; font-weight: bold; }
        
        /* CHAT */
        #chat-container { position: absolute; bottom: 10px; left: 10px; width: 300px; display: none; pointer-events: auto; }
        #chat-messages { height: 150px; overflow-y: auto; text-shadow: 1px 1px 1px black; margin-bottom: 5px; display: flex; flex-direction: column; justify-content: flex-end;}
    </style>
</head>
<body>

    <canvas id="game-canvas"></canvas>

    <div id="ui-layer">
        <!-- GAME HUD -->
        <div id="hud">
            <div class="hud-box">
                <span id="score-display">Size: 18.0</span> | <span id="kill-display" style="color:#FECB00">Kills: 0</span>
            </div>
        </div>

        <!-- CHAT -->
        <div id="chat-container">
            <div id="chat-messages"></div>
            <input type="text" id="chat-input" placeholder="Press Enter to chat...">
        </div>

        <!-- START MENU -->
        <div id="start-menu">
            <!-- LEFT: STATS -->
            <div class="panel" style="width: 200px;">
                <h3>STATS</h3>
                <div id="stats-content">Loading...</div>
            </div>

            <!-- CENTER: MAIN -->
            <div class="panel" style="width: 300px; text-align: center;">
                <h1 style="margin: 0 0 20px 0; font-size: 40px; text-shadow: 0 0 10px #FECB00;">BOSNIA SNAKE</h1>
                <input type="text" id="nickname" placeholder="Nickname" maxlength="15">
                
                <div style="margin-bottom: 10px; color: #aaa; font-size: 12px;">SKIN SELECT</div>
                <select id="skin-select" style="width: 100%; padding: 10px; margin-bottom: 10px; background: #222; color: white; border: 1px solid #444;">
                    <option value="bosnia">Bosnia</option>
                    <option value="usa">USA</option>
                    <option value="russia">Russia</option>
                    <option value="germany">Germany</option>
                    <option value="france">France</option>
                    <option value="ukraine">Ukraine</option>
                    <option value="soviet">Soviet Union (Unlock)</option>
                    <option value="golden_maple">Golden Maple (Unlock)</option>
                </select>

                <button id="btn-play">PLAY SOLO</button>

                <div style="margin-top: 20px; font-size: 12px; color: #FECB00; font-weight: bold;">LIVE GAMES</div>
                <div id="spectate-list" class="list-box">
                    <div style="padding:10px; color:#888;">Scanning...</div>
                </div>
            </div>

            <!-- RIGHT: LEADERBOARD -->
            <div class="panel" style="width: 200px;">
                <h3>TOP 5</h3>
                <div id="leaderboard-list" class="list-box"></div>
            </div>
        </div>
    </div>

    <!-- MAIN SCRIPT -->
    <script type="module" src="script.js"></script>
</body>
</html>
